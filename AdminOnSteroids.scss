@mixin clearfix {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}

$defaultTransition: 0.12s;
$defaultBoxShadow: 0 4px 5px -2px rgba(0, 0, 0, 0.12);

@keyframes fadeOut {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.8);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

#sidebar #main-nav {
  // allow quicklinks menu (flash menu) to shop up
  //overflow: hidden !important;
  //overflow-x: visible !important;
  //overflow-x: visible !important;
  //overflow: visible !important;
  //.quicklinks {
  //  display: block !important;
  //}
}

// AsmTweaks
html.aos_leftAsmDelete {
  body {

    .Inputfields .asmListItem {
      padding-left: 24px;
      span.asmListItemStatus {
        right: 12px;
      }
      .asmListItemRemove {
        left: 12px;
        right: auto;
      }
    }
    //.Inputfields .asmFieldsetStart,
    //.Inputfields .asmFieldsetStart ~ .asmListItem {
    //  padding-left: 48px;
    //  .asmListItemRemove {
    //    left: 34px;
    //  }
    //}
  }
  &.aos_collapseAsmSections {
    body {
      .Inputfields .asmFieldsetStart,
      .Inputfields .asmFieldsetStart ~ .asmListItem {
        padding-left: 48px;
        .asmListItemRemove {
          left: 34px;
        }
      }
    }
  }
}

// Tooltips
@media only screen and (min-width: 960px) {

  #content {
    //li:not(.translated):not(.untranslated):not(.noTooltip) { // disable in Language Translator
    form:not([action^="./?textdomain"]) { // disable in Language Translator

      .aos_tooltips_blueprint {
        position: absolute;
        bottom: 100%;
        left: -23px;
        text-indent: -9999px;
        background: #141414;
        padding: 0;
        margin: 0 0 -5px 0;
        width: 0;
        line-height: 1.45;
        height: 0;
        z-index: 100000 + 1;
        backface-visibility: hidden;

        // IE hack
        pointer-events: none;
        font-size: 1px;
        letter-spacing: -1px;
        color: transparent;
        * {
          visibility: hidden;
        }

        // icon
        &:before {
          content: "\f05a";
          text-indent: 0;
          visibility: visible;
          pointer-events: all;
          font-family: FontAwesome, sans-serif;
          position: absolute;
          display: block;
          padding: 4px;
          margin-top: -8px;
          top: 100%;
          transform: translateY(16px);
          left: 13px;
          color: rgba(#000, 0.25);
          background: #fff;
          font-size: 14px;
          line-height: 14px;
          text-align: center;
          border-radius: 100%;
          //z-index: 9980;
          transform-origin: 50% 50%;
        }
        &:hover,
          //&:active,
        &.tooltip-active {
          * {
            visibility: visible;
          }
          text-indent: 0;
          padding: 8px 12px;
          width: auto;
          visibility: visible;
          height: auto;
          cursor: pointer;
          font-size: 14px;
          letter-spacing: 0;
          z-index: 100000 + 1;
          &, *:not(a) {
            // set everything white but links
            color: #f8f8f8;
          }
          &:before {
            color: rgba(#000, 0.66);
            cursor: pointer;
            z-index: -1;
          }
          // arrow
          &:after {
            $size: 6px;
            content: "";
            position: absolute;
            top: 100%;
            left: 17px;
            border: $size solid transparent;
            border-top-color: #141414;
          }
          &.tooltip-active {
            // enable selection
            pointer-events: all;
          }
        }
      }

      .aos_tooltips_blueprint_overlay {
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: auto !important;
        min-height: 100%;
        margin: 0 !important;
        font-size: 90%;
        background-color: rgba(#1C2836, 0.88) !important;
        &:hover,
        &.tooltip-active {
          padding: 12px 24px !important;
        }
        &:before {
          left: -10px !important;
          bottom: auto !important;
          top: -4px !important;
          margin: 0 !important;
        }
        &:after {
          display: none;
        }
      }
    }
  }
}

html.aos_tooltips {

  li[id^="wrap_Inputfield"], li.Inputfield {
    position: relative;
  }

  // fix repeater/matrix repeater icon cutoffs
  li.InputfieldStateWasCollapsed {
    &, .InputfieldContent {
      overflow: visible !important;
    }
  }

  &.aos_tooltipsDesc {
    p.description {
      @extend .aos_tooltips_blueprint;
    }
    &.aos_tooltipsOverlay {
      p.description {
        @extend .aos_tooltips_blueprint_overlay;
      }
    }
  }

  &.aos_tooltipsNotes {
    //li:not(.translated):not(.untranslated):not(.noTooltip) {
    form:not([action^="./?textdomain"]) {
      p.notes {
        @extend .aos_tooltips_blueprint;
        &:before {
          content: "\f27a" !important;
          font-size: 13px !important;
          line-height: 13px !important;
        }
      }
    }
    &.aos_tooltipsOverlay {
      p.notes {
        @extend .aos_tooltips_blueprint_overlay;
        transform: translateY(0) !important;
        &:before {
          transform: translateY(17px) !important;
        }
      }
      &.aos_tooltipsDesc {
        p.notes:before {
          transform: translateY(39px) !important;
        }
      }
    }
  }

  // move down notes only if there's description
  &.aos_tooltipsNotes.aos_tooltipsDesc {
    //li:not(.translated):not(.untranslated):not(.noTooltip) {
    form:not([action^="./?textdomain"]) {
      p.notes {
        transform: translateY(22px);
      }
    }
  }
}

html.aos_collapseAsmSections {
  .Inputfields .asmFieldsetStart ~ .asmListItem,
  .Inputfields .asmFieldsetEnd,
  .Inputfields .asmFieldsetStart {
    padding-left: 24px;
  }

  .asmFieldsetStart {
    &:before {
      content: '\f056';
      font-family: FontAwesome;
      font-size: 15px;
      font-weight: 400;
      float: left;
      left: 8px;
      top: 3px;
      margin-right: 8px;
      position: absolute;
      color: rgba(255, 255, 255, 0.66);
    }
    &.collapsed {
      a, i, span, &:before {
        color: rgba(255, 255, 255, 0.66);
      }
      &:hover {
        cursor: pointer;
        &:before {
          color: inherit;
        }
      }
      &:before {
        content: '\f055';
      }
      &:after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.1);
      }
    }
  }
}

// login page
body.id-23 {
  #headline {
    padding-left: 1.33em !important;
  }
  #title {
    float: none !important;
  }
}

// module own CSS styles

form[action$="AdminOnSteroids"] {

  #wrap_Inputfield_enabledSubmodules {
    > .InputfieldContent {
      label {
        //font-style: italic;
        font-size: 94%;
        line-height: 1.45;
        margin-bottom: 6px;
        strong {
          margin-top: 1px;
          font-style: normal;
          display: block;
          font-weight: bold;
        }
      }
      ul {
        > li {
          break-inside: avoid;
        }
        @media only screen and (min-width: 960px) {
          column-count: 2;
          column-gap: 16px;
        }
        @media only screen and (min-width: 1280px) {
          column-count: 3;
        }
        @media only screen and (min-width: 1680px) {
          column-count: 4;
        }
        @media only screen and (min-width: 2100px) {
          column-count: 5;
        }
      }
    }

  }

  #Inputfield_tweaks {

    #Inputfield_InputfieldURLChecker,
    #Inputfield_PageListThumbs {
      label {
        background: transparent;
      }
      .Inputfields {
        label, .InputfieldContent {
          padding-top: 0;
          padding-left: 0;
          border: none;
        }
      }
    }

    @media only screen and (min-width: 960px) {

      > .InputfieldContent > .Inputfields {

        > li {
          position: relative;
          break-inside: avoid;

          > label.InputfieldHeader,
          > .InputfieldContent {
            padding-top: 1em;
            padding-bottom: 1em;
          }
          > label.InputfieldHeader {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            right: 0;
            font-size: 94%;
          }
          > .InputfieldContent {
            padding-left: 360px;
            position: relative;
            background: transparent;
            //width: calc(100% - 360px);
            width: 100%;
            top: 1px;
            border-left: none;
          }
        }
      }
    }
    @media only screen and (min-width: 1920px) {
      > .InputfieldContent > .Inputfields {
        column-gap: 16px;
        column-count: 2;
        column-fill: balance; // Firefox only
      }
    }
  }

  label {
    &:hover {
      cursor: pointer;
    }
  }

  #wrap_Inputfield_RenoTweaks {
    li.disabled {
      opacity: 0.7;
      label {
        &:hover {
          cursor: not-allowed !important;
        }
      }
    }
  }

  .AdminDataTable tr td:first-child {
    color: inherit !important;
  }

  input[type="radio"],
  input[type="checkbox"] {
    vertical-align: top;
    position: relative;
    top: 5px;
    &:hover {
      cursor: pointer;
    }
    + span {
      opacity: 0.7;
      white-space: normal;
      display: inline-block;
      padding-right: 20px;
    }
    &:checked {
      + span {
        opacity: 1;
      }
    }
  }

  input#Inputfield_RenoTweaks_singleClickSidebarHeaders,
  input#Inputfield_RenoTweaks_miniScrollbarSidebar,
  input#Inputfield_RenoTweaks_miniScrollbarMain,
  input#Inputfield_RenoTweaks_stickyHeaderCompact,
  input#Inputfield_RenoTweaks_stickyCKEditorToolbar,
  input#Inputfield_RenoTweaks_oneLineSidebarSubmenus {
    margin-left: 21px;
  }
}

// FieldEditLinks
.Inputfield label {
  .aos_field_name {
    position: absolute;
    opacity: 0;
    font-size: 13px;
    margin-left: 0;
    transition: 0.06s all 0s;
    &:hover {
      transition-delay: 0s !important;
      //opacity: 1 !important;
      text-decoration: underline;
    }
  }
  &:hover {
    .aos_field_name {
      margin-left: 16px;
      opacity: 0.66;
      transition: 0.12s all 0.5s;
    }
  }
}

// Hotkeys
body.aos_saving {
  pointer-events: none;
  &:after {
    content: "\f0c7";
    font-family: FontAwesome;
    font-size: 45px;
    position: fixed;
    top: 45%;
    left: 0;
    width: 100%;
    height: 100%;
    display: block;
    text-align: center;
    color: rgba(0, 0, 0, 0.16);
    background: transparent;
    //animation: fadeOut 0.4s steps(12, end) forwards;
    animation: fadeOut 1.25s ease-in-out alternate infinite;;
    transform-origin: 50% 0;
  }
}

// FileFieldToolbar

// FileFieldToolbar filterbox
html.aos_filterbox {

  .Inputfield.filterbox_loaded {
    > label {
      padding-top: 14px;
      padding-bottom: 13px;
    }
  }

  .ImageOuter.gridImage,
  .InputfieldFileItem {
    transition: all $defaultTransition;
    transform-origin: center center;
    height: auto;
    &.hidden {
      transform: scale(0);
      width: 0;
      height: 0;
      padding: 0;
      margin: 0 !important;
      border: 0;
      overflow: hidden;
    }
  }

  body.AdminThemeDefault .InputfieldFileFieldFilter {
    position: absolute;
    margin-top: 0;
  }

  .InputfieldFileFieldFilter {

    position: absolute;
    margin-left: 24px;
    display: inline-block;
    margin-top: -4px;

    input {
      transition: all $defaultTransition;
      // placeholder hack
      //text-align: right;
      //max-width: 160px;
    }

    input:focus::-webkit-input-placeholder {
      color: transparent;
    }
    input:focus:-moz-placeholder {
      color: transparent;
    }
    /* FF 4-18 */
    input:focus::-moz-placeholder {
      color: transparent;
    }
    /* FF 19+ */
    input:focus:-ms-input-placeholder {
      color: transparent;
    }
    /* IE 10+ */

    &.hasValue input,
    input:focus {
      background: #fff !important;
      //text-align: left !important;

      //max-width: 300px;
      outline: none;
    }

    // disable default clear button on iE
    input::-ms-clear {
      display: none;
    }

    i {
      display: none;
      position: absolute;
      left: 99%;
      top: 50%;
      transform: translateY(-50%);
      padding: 12px;
      opacity: 0.5;
      &:hover {
        opacity: 1;
      }
    }

    &.hasValue {
      i {
        display: block;
      }
    }
  }

  .InputfieldStateCollapsed,
  .InputfieldImageMax1 {
    .InputfieldFileFieldFilter {
      display: none;
    }
  }

}

// ModuleTweaks
html.aos_compactModuleList {
  form#modules_form {
    .modules_filter {
      display: none;
    }
    .modules_section:not(:first-of-type) thead {
      display: none;
    }
    table {
      margin-bottom: 0;
    }
    h2 {
      display: none;
    }
    table.AdminDataList {
      .buttons {
        float: right;
        margin: 0;
        button {
          + button {
            margin-left: 4px;
          }
        }
        button[name="delete"] {
          background: #b93e42 !important;
          border-color: #b93e42 !important;
          &:hover {
            background: saturate(#b93e42, 20%) !important;
            border-color: saturate(#b93e42, 20%) !important;
          }
        }
      }
      p.module-summary {
        &, + span {
          float: left;
          display: inline-block;
          max-width: calc(100% - 120px);
        }
        + span {
          clear: left;
          + .buttons {
            // pull up
            margin-top: -20px;
          }
        }
      }
      @media only screen and (min-width: 960px) {
        td:first-child {
          position: relative;
          i {
            position: absolute;
            right: 8px;
            top: 11px;
          }
          a {
            display: block;
            span {
              position: static;
            }
          }
        }
        td:last-child {
          position: relative;
          //display:flex;
          //flex-direction: column-reverse;
        }
        td:nth-child(2) {
          br {
            display: none;
          }
          small {
            margin-left: 8px;
            opacity: 0.7;
          }
        }
        span.ConfigurableModule {
          position: relative;
          &:after {
            content: "\f013";
            font-family: FontAwesome, sans-serif;
            position: absolute;
            color: rgba(#364D68, 0.2);
            margin-top: 1px;
            padding-left: 7px;
          }
        }
        td:hover {
          span.ConfigurableModule {
            &:after {
              color: inherit;
            }
          }
        }
        button.ProcessModuleSettings {
          display: none;
        }
      }
    }
  }
}

// tweak styles
html.aos_PagePreviewLink {

  body.AdminThemeDefault {
    #aos_PagePreviewLink {
      i {
        font-size: 0.84em !important;
        color: inherit;
      }
    }
  }

  #aos_PagePreviewLink {
    margin-left: 0.5em;
    i {
      color: rgba(0, 0, 0, 0.33);
      font-size: 0.7em !important;
    }
    &:hover {
      i {
        color: inherit !important;
      }
    }
  }
}

// fixScrollbarJump
html.aos_fixScrollbarJump:not(.modal) {
  width: 100vw;
  overflow-x: hidden;
  #headline,
  #breadcrumbs,
  #masthead {
    width: 100vw !important;
  }
}

// PageListThumbs
html.aos_PageListThumbs {

  $thumbSize: 48px;

  .PageListItem {
    @include clearfix;
    width: 100%;
    em {
      vertical-align: middle;
      padding: 0;
      background: #F0F3F7;
      margin-right: 16px;
      display: inline-block;
      height: $thumbSize;
      line-height: $thumbSize;
      text-align: center;
      &.square {
        width: $thumbSize;
      }
      &.circle {
        width: $thumbSize;
        border-radius: 50%;
        overflow: hidden;
      }
    }
    img {
      display: block;
      margin: 0 auto;
    }
  }
  &.aos_compactPageList {
    $thumbSize: 32px;
    .PageListItem {
      em {
        width: $thumbSize;
        height: $thumbSize;
        line-height: $thumbSize;
      }
    }
  }
}

html.aos_noAnims * {
  //transition: none !important;
  transition-duration: 0s !important;
}

.fixZIndex {
  .InputfieldImageEditAll .gridImage,
  .ui-slider-handle {
    z-index: 1;
  }
}

/*Reno theme tweaks*/
html.AdminThemeReno {

  // disable all animations
  body:not(.pw-ready) {
    #branding:not(.hide), #masthead:not(.full), #sidebar:not(.hide), #main:not(.full), .main-nav-toggle:not(.full) {
      //#branding, #masthead, #sidebar, #main, .main-nav-toggle {
      //transition: none;
      transition-duration: 0s;
    }
  }

  // stickyHeader
  &.aos_stickyHeader:not(.modal) {

    @media only screen and (min-width: 960px) {

      @extend .fixZIndex;

      // System Notifications module
      #NotificationGhosts {
        z-index: 100000 + 20000 !important;
      }

      .NotificationMenu {
        z-index: 100000 + 2000;
        position: fixed;
        top: 52px;
        left: 0;
        right: 0;
        margin: 0;
        padding: 0;
        box-shadow: $defaultBoxShadow;
        max-height: 75vh;
        overflow-y: auto !important;
        li:first-child {
          box-shadow: inset 0 3px 3px rgba(#000, 0.075);
        }
      }

      #ProcessPageSearchAutocomplete {
        z-index: 100000 + 20000 !important;
      }

      .tracy-panel {
        z-index: 100000 + 20000 !important;
      }

      .ui-widget-overlay, .mfp-bg {
        z-index: 100000 + 1002;
      }

      .ui-dialog, .mfp-wrap {
        z-index: 100000 + 1022;
      }

      .pw-button-dropdown,
      .dropdown-menu,
      #pw-panel-shade,
      .pw-panel-container {
        z-index: 100000 + 10100 !important;
      }

      #head_button {
        margin-right: 24px;
        margin-bottom: -8px;
      }

      #masthead,
      #branding,
      .main-nav-toggle {
        z-index: 100000 + 80;
        position: fixed;
      }
      #masthead {
        width: 100%;
        z-index: 100000 + 60;
        * {
          z-index: 100000 + 70;
        }
      }
      #breadcrumbs {
        position: fixed;
        top: 52px;
        //height: 47px;
        width: 100%;
        z-index: 100000 + 11;
        //padding-top: 1em;
        //padding-bottom: 0.25em;
        border-bottom: none;
      }
      #headline {
        top: 88px;
        position: fixed;
        width: 100%;
        left: 0;
        z-index: 100000 + 11;
        border-bottom: 1px solid rgba(#000, 0.1);
        padding: 1.33em 0 1.33em 1.33em;
        //transition: padding-top 0.12s, padding-bottom 0.12s !important;
      }
      #main {
        padding-top: 156px;
        &:not(.closed) #headline {
          padding-left: 232px;
        }
      }

      ul.quicklinks {
        top: 52px !important;
      }

      body.scrolled {
        #headline {
          box-shadow: $defaultBoxShadow;
        }
      }

      .cke_top_fixed.cke_top {
        //animation: fadeIn ease-in 0.1s;
        //transform-origin: center top;
        //animation: slideDown ease-in 0.12s;
        z-index: 100000 + 222;
        height: auto;
        -webkit-user-select: none;
        top: 156px;
        left: 0;
        padding-left: 232px;
        right: 0;
        box-shadow: $defaultBoxShadow;
        box-sizing: border-box;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
        position: fixed;
        width: 100%;
      }
      #main.closed {
        .cke_top_fixed.cke_top {
          padding-left: 24px;
        }
      }

      #sidebar {
        z-index: 100000 + 40;
      }

      &.aos_alwaysShowSearch {
        #search {
          position: fixed;
          z-index: 100000 + 80;
        }
      }
    }

    @media only screen and (min-width: 1200px) {
      #main {
        &:not(.closed) #headline {
          padding-left: 252px;
        }
      }
      .cke_top_fixed.cke_top {
        padding-left: 252px;
      }
    }

    body.pw-ready {
      #headline {
        transition: padding-left $defaultTransition;
      }
    }
  }

  // stickyHeaderCompact

  &.aos_stickyHeaderCompact:not(.modal) {

    @media only screen and (min-width: 960px) {

      // System Notifications module
      #NotificationGhosts {
        top: 48px !important;
      }

      #NotificationBug {
        top: 70px !important;
        float: right;
        left: auto !important;
        right: auto !important;
        position: relative;
        margin: 0 8px 0 24px;
        padding: 0;
        display: inline-block !important;
      }
      .NotificationMenu {
        left: 210px;
        top: 100px;
      }

      .cke_top_fixed.cke_top {
        top: 137px;
      }
      #branding,
      .main-nav-toggle {
        display: none;
      }

      #masthead {
        top: -52px;
        z-index: 100000 + 250;
      }
      #breadcrumbs {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100000 + 182;
        //padding-top: 1em;
        //padding-bottom: 0.25em;
        border-bottom: none;
        background: #fff;
      }
      #sidebar {
        padding-top: 0;
        z-index: 100000 + 300;
      }
      ul.quicklinks {
        top: 0 !important;
      }
      #headline {
        top: 33px;
        position: fixed;
        width: 100%;
        left: 0;
        z-index: 100000 + 200;
        border-bottom: 1px solid rgba(#000, 0.1);
        //padding: 1.33em 0 1.33em 1.33em;
        //transition: padding-top 0.12s, padding-bottom 0.12s !important;
        background: #fff;
      }
      #main {
        position: absolute;
        left: 0;
        //overflow-x: hidden;
        right: 0;
        bottom: 0;
        top: 100px;
        padding-top: 0;
        //background: #F0F3F7;
        &:not(.closed) #headline {
          padding-left: 232px;
        }
      }
      #wrap {
        #search {
          left: auto;
          top: 40px !important;
          transform: none;
          max-width: 360px;
          z-index: 100000 + 210;
          position: fixed;
          //right: -8px;
          right: 0;
          text-align: right;
          form {
            display: inline-block;
            //float: right;
          }
          input {
            background: transparent;
            border-bottom: 1px solid rgba(0, 0, 0, 0.16);
            border-radius: 0;
            padding: 0.6em 3em 0.6em 1em;
            max-width: 120px;
            transition: max-width $defaultTransition;
            float: right;
            color: inherit;
            position: relative;
            z-index: 100000 + 220;
            &:focus {
              background: rgba(#F0F3F7, 0.5);
              max-width: 100%;
            }
          }
          label {
            right: 0;
            left: auto !important;
            margin-top: 2px;
            z-index: 100000 + 300;
          }
        }
      }
      body.scrolled {
        #headline {
          box-shadow: $defaultBoxShadow;
        }
      }

      #ProcessPageSearchAutocomplete {
        position: fixed;
        left: auto !important;
        right: 26px !important;
        top: 41px !important;
        //z-index: 100000 + 20000 !important;
        box-shadow: 0 1px 3px 1px rgba(0, 0, 0, 0.12) !important;
      }

      #ProcessPageSearchForm #ProcessPageSearchStatus {
        right: 3.1em;
      }

      #masthead #topnav {
        top: 52px;
        z-index: 100000 + 260;
        .avatar.dropdown {
          margin-right: 0 !important;

        }
        a, a:hover, a:after {
          color: inherit !important;
        }
        li.dropdown ul {
          //box-shadow: 0 3px 5px -1px rgba(0, 0, 0, 0.12);
          box-shadow: none;
          filter: drop-shadow(0 0 1px rgba(#000, 0.36));
          border-radius: 1px;
          border: none;
          z-index: 100000 + 3300;
        }

      }

      &.aos_alwaysShowSearch {
        #search {
          position: fixed;
          z-index: 100000 + 80;
        }
      }
    }

    @media only screen and (min-width: 1200px) {
      #main {
        &:not(.closed) #headline {
          padding-left: 252px;
        }
      }
      .NotificationMenu {
        left: 230px;
      }
    }

    body.pw-ready {
      #headline {
        transition: padding-left $defaultTransition;
      }
      #wrap #search input {
        transition: background $defaultTransition;
      }
    }

    // stickyTabs
    body.hasWireTabs {
      @media only screen and (min-width: 960px) {
        #main {
          top: 134px;
          .WireTabs {
            position: fixed;
            top: 100px;
            left: 210px;
            z-index: 100000 + 210;
            background: #fff;
            border-top: 1px solid rgba(0, 0, 0, .1);
            border-bottom: 1px solid rgba(0, 0, 0, .1);
            a {
              padding: 0.42em 1em 0.33em;
              border: none;
            }
            li:first-child {
              a {
                padding-left: 1.5em;
              }
            }
          }
        }
        &.scrolled {
          #main {
            .WireTabs {
              box-shadow: $defaultBoxShadow;
            }
          }
        }
        .NotificationMenu {
          top: 137px;
        }
      }

      @media only screen and (min-width: 1200px) {
        #content {
          .WireTabs {
            left: 230px;
          }
        }
      }
    }

    &:not(.aos_headButtonNextToTitle) {
      #search {
        right: 120px !important;
      }
    }
  }

  &.aos_compactPageList {
    .content .PageList .PageListItem {
      padding-top: 0.3em;
      padding-bottom: 0.3em;
    }
  }

  // AlwaysShowSearch
  &.aos_alwaysShowSearch:not(.modal),
  &.aos_stickyHeaderCompact {
    @media only screen and (min-width: 960px) {
      #search {
        top: 0 !important;
        max-width: 480px;
        left: 50%;
        transform: translateX(-50%);
        transition: none !important;
        form {
          max-width: 100%;
        }
        &:before {
          display: none;
        }
        #ProcessPageSearchForm label {
          width: 24px;
        }
        .search-close {
          display: none;
        }
      }
    }
    #topnav .search-toggle {
      display: none !important;
    }
  }

  // custom miniScrollbar theme

  #main-nav {
    position: relative;
  }

  @import 'lib/perfect-scrollbar/css/mixins';
  @import 'lib/perfect-scrollbar/css/variables';

  $ps-theme-default: (
          border-radius: $ps-border-radius,
          rail-default-opacity: $ps-rail-default-opacity,
          rail-container-hover-opacity: $ps-rail-container-hover-opacity,
          rail-hover-opacity: $ps-rail-hover-opacity,
          bar-bg: $ps-bar-bg,
          bar-container-hover-bg: $ps-bar-container-hover-bg,
          bar-hover-bg: $ps-bar-hover-bg,
          rail-hover-bg: $ps-rail-hover-bg,
          scrollbar-x-rail-bottom: $ps-scrollbar-x-rail-bottom,
          scrollbar-x-rail-height: $ps-scrollbar-x-rail-height,
          scrollbar-x-bottom: $ps-scrollbar-x-bottom,
          scrollbar-x-height: $ps-scrollbar-x-height,
          scrollbar-y-rail-right: $ps-scrollbar-y-rail-right,
          scrollbar-y-rail-width: $ps-scrollbar-y-rail-width,
          scrollbar-y-right: $ps-scrollbar-y-right,
          scrollbar-y-width: $ps-scrollbar-y-width,
  );

  .ps-theme-pw-scrollbar {
    @include ps-container(map-merge($ps-theme-default, (
            border-radius: 2,
            rail-default-opacity: 0,
            bar-bg: transparent,
            bar-container-hover-bg: rgba(0, 0, 0, 0.2),
            rail-hover-bg: transparent,
            bar-hover-bg: rgba(0, 0, 0, 0.25),
            scrollbar-y-rail-width: 5px,
            scrollbar-y-width: 5px
    )));
    //.ps-theme-pw-scrollbar {
    //  overflow-x: visible !important;
    //}

  }

  ul.quicklinks {
    // hack because cannot have overflow-x and overflow-y work together as expected
    position: fixed !important;
  }

  // autoHideSidebar
  &.aos_autoHideSidebar:not(.modal) {
    @media only screen and (min-width: 960px) {

      //padding-left: 1em;
      #headline {
        padding-left: 1.5em !important;
      }

      // extra space on left to avoid accidental hover on sidebar toggle
      #branding,
      #content,
      #headline,
      #breadcrumbs,
      #notices .NoticeMessage,
      #masthead {
        border-left: 16px solid transparent;
      }

      #main {
        margin-left: 0;
      }

      #notices {
        left: -1em;
        .NoticeMessage {
          position: relative;
          //left: -1em;
          padding-left: 2.5em;
        }
      }
      //
      //#breadcrumbs {
      //  padding-left: 3.5em;
      //  transform: translateX(-2em);
      //}

      #sidebar.closed, #sidebar.hide,
      #branding.closed {
        left: 0 !important;
      }

      .main-nav-toggle {
        display: none;
      }

      #sidebar {
        transform: translateX(-100%);

        z-index: 100000 + 8000 !important;

        &:before {
          content: "";
          position: absolute;
          top: 0;
          left: 100%;
          width: 0.7em;
          height: 100%;
          background: transparent;
        }
        &:hover {
          transform: translateX(0);
        }
      }
      body.pw-ready {
        #sidebar {
          transition: transform 0.12s;
        }
      }
    }
  }

  // headButtonNextToTitle
  &.aos_headButtonNextToTitle {
    @media only screen and (min-width: 960px) {
      // head_button next to title
      #headline {
        #head_button {
          float: none;
          display: inline-block;
          margin-bottom: -1em;

          button {
            //background: transparent !important;
            //color: inherit !important;
            //border: 1px solid rgba(#000, 0.16) !important;
          }
        }
        #title {
          float: left;
          padding-right: 2em;
        }
      }
    }
  }

  // stickySidebar
  &.aos_stickySidebar {
    @media only screen and (min-width: 960px) {
      #sidebar {
        position: fixed;
        z-index: 9;
        //.quicklinks {
        //  top: 52px !important;
        //}
      }

    }
  }

  // alwaysVisibleSidebarItems
  &.aos_alwaysVisibleSidebarItems {
    @media only screen and (min-width: 960px) {
      #sidebar {
        //z-index: 19;
        #main-nav {
          > li {
            > a {
              font-weight: 600;
              //header icons
              > i {
                margin: 5px 8px 0 0;
                float: right;
              }
              //li a:hover {
              //  background-color: inherit !important;
              //}
            }
            a {
              padding: 0.5em 0.5em 0.5em 1.3em;
              //&.current:hover,
              &.parent:hover {
                background-color: inherit !important;
              }
              &.has-quicklinks {
                span {
                  display: inline-block;
                  padding-right: 18px;
                }
              }
              i.quicklink-open {
                visibility: visible;
                opacity: 0.33;
                padding: 5px 10px;
                color: inherit !important;
                &:hover {
                  opacity: 1;
                  color: inherit !important;
                }
              }
              &:after {
                display: none;
              }
            }
            > ul {
              display: block !important;
              &:empty {
                display: none !important;
              }
              overflow: visible !important;
              height: auto !important;
              padding: 8px 14px 2px 14px !important;
              > li {
                display: inline-block;
                font-size: 0.92em;
                a {
                  padding: 0.2em 0.5em;
                  opacity: 0.84;
                  &.current {
                    background: transparent;
                    color: inherit !important;
                    opacity: 1;
                    font-weight: 600;
                    span {
                      i {
                        display: none;
                      }
                    }
                  }
                  &:hover {
                    opacity: 1;
                    background-color: inherit !important;

                    span {
                      text-decoration: underline;
                    }
                  }
                }
              }
              ul.quicklinks {
                width: auto !important;
                a {
                  min-width: 250px;
                  padding: 0.5em 20px;
                }
              }
            }
          }
        }
      }
    }
  }

  // hideSidebarQuickLinks
  &.aos_hideSidebarQuickLinks {
    //@media only screen and (min-width: 960px) {
    #sidebar #main-nav > li a {
      span {
        padding-right: 0 !important;
      }
      i.quicklink-open {
        display: none;
      }
    }
    //}
  }

  // oneLineSidebarSubmenus (only with autoHideSidebar)
  &.aos_oneLineSidebarSubmenus.aos_autoHideSidebar {
    //@media only screen and (min-width: 960px) {
    #sidebar {
      z-index: 19;
      width: auto;
      min-width: 210px;
    }
    //}
  }

  // closeNoticeButtonToLeft
  &.aos_closeNoticeButtonToLeft {
    #notices li {
      padding-left: 50px;
      .notice-remove {
        position: absolute;
        left: 10px;
      }
    }
  }
}

//Default theme tweaks
// note: the default theme adds theme name class only to body
body.AdminThemeDefault {

  // stickyHeader
  &.aos_stickyHeader:not(.modal) {
    @media only screen and (min-width: 960px) {

      @extend .fixZIndex;

      .NotificationMenu {
        z-index: 9;
      }

      padding-top: 100px;
      //padding-top: 64px;

      #masthead {
        position: fixed;
        z-index: 40;
        width: 100%;
        top: 0;
        left: 0;
      }

      #breadcrumbs {
        position: fixed;
        z-index: 20;
        top: 44px;
        left: 0;
        width: 100%;
        border: none;
      }

      #notices {
        position: relative;
        //top: 33px;
        z-index: 19;
        & ~ #content {
          //padding-top: 84px;
          padding-top: 16px;
          //padding-top: 52px;
        }
      }

      &.hasWireTabs {
        #notices {
          & ~ #content {
            padding-top: 52px;
          }
        }
        #content {
          padding-top: 52px;
        }
      }

      #head_button {
        margin-bottom: -1em;
      }

      #content {
        padding-top: 16px;
      }
    }
  }
}